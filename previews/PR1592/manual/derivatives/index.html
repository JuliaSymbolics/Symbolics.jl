<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Derivatives and Differentials · Symbolics.jl</title><meta name="title" content="Derivatives and Differentials · Symbolics.jl"/><meta property="og:title" content="Derivatives and Differentials · Symbolics.jl"/><meta property="twitter:title" content="Derivatives and Differentials · Symbolics.jl"/><meta name="description" content="Documentation for Symbolics.jl."/><meta property="og:description" content="Documentation for Symbolics.jl."/><meta property="twitter:description" content="Documentation for Symbolics.jl."/><meta property="og:url" content="https://docs.sciml.ai/Symbolics/stable/manual/derivatives/"/><meta property="twitter:url" content="https://docs.sciml.ai/Symbolics/stable/manual/derivatives/"/><link rel="canonical" href="https://docs.sciml.ai/Symbolics/stable/manual/derivatives/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="Symbolics.jl logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="Symbolics.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Symbolics.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../getting_started/">Getting Started with Symbolics.jl</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/auto_parallel/">Automated Sparse Parallelism of Julia Functions via Tracing</a></li><li><a class="tocitem" href="../../tutorials/converting_to_C/">Automatic Conversion of Julia Code to C Functions</a></li><li><a class="tocitem" href="../../tutorials/perturbation/">Mixed Symbolic-Numeric Perturbation Theory</a></li></ul></li><li><span class="tocitem">Manual</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Basics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../variables/">Variable and Equation Types</a></li><li><a class="tocitem" href="../expression_manipulation/">Expression Manipulation</a></li><li><a class="tocitem" href="../faq/">Frequently Asked Questions</a></li><li><a class="tocitem" href="../external/">Working with External Symbolics Packages: SymPy, Mathematica, Oscar, and Beyond</a></li><li><a class="tocitem" href="../arrays/">Symbolic Arrays</a></li><li><a class="tocitem" href="../build_function/">Function Building and Compilation (build_function)</a></li><li><a class="tocitem" href="../functions/">Function Registration and Tracing</a></li><li><a class="tocitem" href="../parsing/">Parsing Julia Expressions to Symbolic Expressions</a></li><li><a class="tocitem" href="../io/">I/O, Saving, and Latex</a></li><li><a class="tocitem" href="../types/">Supported types and dispatch in Symbolics</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Algebra</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../solver/">Solving Symbolic Equations</a></li><li><a class="tocitem" href="../groebner/">Groebner bases</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox" checked/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Calculus</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Derivatives and Differentials</a><ul class="internal"><li><a class="tocitem" href="#High-Level-Differentiation-Functions"><span>High-Level Differentiation Functions</span></a></li><li><a class="tocitem" href="#Adding-Analytical-Derivatives"><span>Adding Analytical Derivatives</span></a></li></ul></li><li><a class="tocitem" href="../integration/">Symbolic Integrals</a></li><li><a class="tocitem" href="../ode/">Symbolic ODE Solving</a></li><li><a class="tocitem" href="../taylor/">Taylor Series</a></li><li><a class="tocitem" href="../sparsity_detection/">Structure and Sparsity Detection</a></li><li><a class="tocitem" href="../limits/">Symbolic Limits</a></li></ul></li></ul></li><li><a class="tocitem" href="../../comparison/">Comparison Against SymPy</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li><a class="is-disabled">Calculus</a></li><li class="is-active"><a href>Derivatives and Differentials</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Derivatives and Differentials</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaSymbolics/Symbolics.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaSymbolics/Symbolics.jl/blob/master/docs/src/manual/derivatives.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Derivatives-and-Differentials"><a class="docs-heading-anchor" href="#Derivatives-and-Differentials">Derivatives and Differentials</a><a id="Derivatives-and-Differentials-1"></a><a class="docs-heading-anchor-permalink" href="#Derivatives-and-Differentials" title="Permalink"></a></h1><p>A <code>Differential(op)</code> is a partial derivative with respect to <code>op</code>, which can then be applied to some other operations. For example, <code>D=Differential(t)</code> is what would commonly be referred to as <code>d/dt</code>, which can then be applied to other operations using its function call, so <code>D(x+y)</code> is <code>d(x+y)/dt</code>.</p><p>By default, the derivatives are left unexpanded to capture the symbolic representation of the differential equation. If the user would like to expand out all the differentials, the <code>expand_derivatives</code> function eliminates all the differentials down to basic one-variable expressions.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Symbolics.Differential" href="#Symbolics.Differential"><code>Symbolics.Differential</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Differential &lt;: Symbolics.Operator</code></pre><p>Represents a differential operator.</p><p><strong>Fields</strong></p><ul><li><code>x</code>: The variable or expression to differentiate with respect to.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using Symbolics

julia&gt; @variables x y;

julia&gt; D = Differential(x)
(D&#39;~x)

julia&gt; D(y) # Differentiate y wrt. x
(D&#39;~x)(y)

julia&gt; Dx = Differential(x) * Differential(y) # d^2/dxy operator
(D&#39;~x(t)) ∘ (D&#39;~y(t))

julia&gt; D3 = Differential(x)^3 # 3rd order differential operator
(D&#39;~x(t)) ∘ (D&#39;~x(t)) ∘ (D&#39;~x(t))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSymbolics/Symbolics.jl/blob/21a61d712708033f5857f39bcd99e902d295e956/src/diff.jl#L4">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Symbolics.expand_derivatives" href="#Symbolics.expand_derivatives"><code>Symbolics.expand_derivatives</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">expand_derivatives(O; ...)
expand_derivatives(O, simplify; throw_no_derivative)
</code></pre><p>Expands derivatives within a symbolic expression <code>O</code>.</p><p>This function recursively traverses a symbolic expression, applying the chain rule and other derivative rules to expand any derivatives it encounters.</p><p><strong>Arguments</strong></p><ul><li><code>O::Symbolic</code>: The symbolic expression to expand.</li><li><code>simplify::Bool=false</code>: Whether to simplify the resulting expression using   <a href="../expression_manipulation/#SymbolicUtils.simplify"><code>SymbolicUtils.simplify</code></a>.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>throw_no_derivative=false</code>: Whether to throw if a function with unknown  derivative is encountered.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; @variables x y z k;

julia&gt; f = k*(abs(x-y)/y-z)^2
k*((abs(x - y) / y - z)^2)

julia&gt; Dx = Differential(x) # Differentiate wrt x
(::Differential) (generic function with 2 methods)

julia&gt; dfx = expand_derivatives(Dx(f))
(k*((2abs(x - y)) / y - 2z)*ifelse(signbit(x - y), -1, 1)) / y</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSymbolics/Symbolics.jl/blob/21a61d712708033f5857f39bcd99e902d295e956/src/diff.jl#L370">source</a></section></article><div class="admonition is-warning" id="Missing-docstring.-346b739562d3a72d"><header class="admonition-header">Missing docstring.<a class="admonition-anchor" href="#Missing-docstring.-346b739562d3a72d" title="Permalink"></a></header><div class="admonition-body"><p>Missing docstring for <code>is_derivative</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-info" id="Note-eff085693b8b3e84"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-eff085693b8b3e84" title="Permalink"></a></header><div class="admonition-body"><p>For symbolic differentiation, all registered functions in the symbolic expression need a registered derivative. For more information, see the <a href="../functions/#function_registration">function registration</a> page.</p></div></div><h2 id="High-Level-Differentiation-Functions"><a class="docs-heading-anchor" href="#High-Level-Differentiation-Functions">High-Level Differentiation Functions</a><a id="High-Level-Differentiation-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#High-Level-Differentiation-Functions" title="Permalink"></a></h2><p>The following functions are not exported and thus must be accessed in a namespaced way, i.e. <code>Symbolics.jacobian</code>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Symbolics.derivative" href="#Symbolics.derivative"><code>Symbolics.derivative</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Symbolics.derivative(::typeof(f), args::NTuple{N, Any}, ::Val{i})</code></pre><p>Return the derivative of <code>f(args...)</code> with respect to <code>args[i]</code>. <code>N</code> should be the number of arguments that <code>f</code> takes and <code>i</code> is the argument with respect to which the derivative is taken. The result can be a numeric value (if the derivative is constant) or a symbolic expression. This function is useful for defining derivatives of custom functions registered via <code>@register_symbolic</code>, to be used when calling <code>expand_derivatives</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSymbolics/Symbolics.jl/blob/21a61d712708033f5857f39bcd99e902d295e956/src/diff.jl#L472-L480">source</a></section><section><div><pre><code class="language-julia hljs">derivative(O, var; simplify, kwargs...)
</code></pre><p>A helper function for computing the derivative of the expression <code>O</code> with respect to <code>var</code>.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>simplify=false</code>: The simplify argument of <code>expand_derivatives</code>.</li></ul><p>All other keyword arguments are forwarded to <code>expand_derivatives</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSymbolics/Symbolics.jl/blob/21a61d712708033f5857f39bcd99e902d295e956/src/diff.jl#L563">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Symbolics.jacobian" href="#Symbolics.jacobian"><code>Symbolics.jacobian</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">jacobian(ops, vars; simplify, scalarize, kwargs...)
</code></pre><p>A helper function for computing the Jacobian of an array of expressions with respect to an array of variable expressions.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>simplify=false</code>: The simplify argument of <code>expand_derivatives</code>.</li><li><code>scalarize=true</code>: Whether to scalarize <code>ops</code> and <code>vars</code> before computing the jacobian.</li></ul><p>All other keyword arguments are forwarded to <code>expand_derivatives</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSymbolics/Symbolics.jl/blob/21a61d712708033f5857f39bcd99e902d295e956/src/diff.jl#L599">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Symbolics.sparsejacobian" href="#Symbolics.sparsejacobian"><code>Symbolics.sparsejacobian</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sparsejacobian(ops, vars; simplify, kwargs...)
</code></pre><p>A helper function for computing the sparse Jacobian of an array of expressions with respect to an array of variable expressions.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>simplify=false</code>: The simplify argument of <code>expand_derivatives</code>.</li></ul><p>All other keyword arguments are forwarded to <code>expand_derivatives</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSymbolics/Symbolics.jl/blob/21a61d712708033f5857f39bcd99e902d295e956/src/diff.jl#L635">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Symbolics.sparsejacobian_vals" href="#Symbolics.sparsejacobian_vals"><code>Symbolics.sparsejacobian_vals</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sparsejacobian_vals(ops, vars, I, J; simplify, kwargs...)
</code></pre><p>A helper function for computing the values of the sparse Jacobian of an array of expressions with respect to an array of variable expressions given the sparsity structure.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>simplify=false</code>: The simplify argument of <code>expand_derivatives</code>.</li></ul><p>All other keyword arguments are forwarded to <code>expand_derivatives</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSymbolics/Symbolics.jl/blob/21a61d712708033f5857f39bcd99e902d295e956/src/diff.jl#L658">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Symbolics.gradient" href="#Symbolics.gradient"><code>Symbolics.gradient</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">gradient(O, vars; simplify, kwargs...)
</code></pre><p>A helper function for computing the gradient of the expression <code>O</code> with respect to an array of variable expressions.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>simplify=false</code>: The simplify argument of <code>expand_derivatives</code>.</li></ul><p>All other keyword arguments are forwarded to <code>expand_derivatives</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSymbolics/Symbolics.jl/blob/21a61d712708033f5857f39bcd99e902d295e956/src/diff.jl#L583">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Symbolics.hessian" href="#Symbolics.hessian"><code>Symbolics.hessian</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">hessian(O, vars; simplify, kwargs...)
</code></pre><p>A helper function for computing the Hessian of the expression <code>O</code> with respect to an array of variable expressions.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>simplify=false</code>: The simplify argument of <code>expand_derivatives</code>.</li></ul><p>All other keyword arguments are forwarded to <code>expand_derivatives</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSymbolics/Symbolics.jl/blob/21a61d712708033f5857f39bcd99e902d295e956/src/diff.jl#L801">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Symbolics.sparsehessian" href="#Symbolics.sparsehessian"><code>Symbolics.sparsehessian</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sparsehessian(op, vars; simplify, full, kwargs...)
</code></pre><p>A helper function for computing the sparse Hessian of an expression with respect to an array of variable expressions.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>simplify=false</code>: The simplify argument of <code>expand_derivatives</code>.</li><li><code>full=false</code>: Whether to construct the full hessian by also including entries in the upper-triangular half of the matrix.</li></ul><p>All other keyword arguments are forwarded to <code>expand_derivatives</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSymbolics/Symbolics.jl/blob/21a61d712708033f5857f39bcd99e902d295e956/src/diff.jl#L956">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Symbolics.sparsehessian_vals" href="#Symbolics.sparsehessian_vals"><code>Symbolics.sparsehessian_vals</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sparsehessian_vals(op, vars, I, J; simplify, kwargs...)
</code></pre><p>A helper function for computing the values of the sparse Hessian of an expression with respect to an array of variable expressions given the sparsity structure.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>simplify=false</code>: The simplify argument of <code>expand_derivatives</code>.</li></ul><p>All other keyword arguments are forwarded to <code>expand_derivatives</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaSymbolics/Symbolics.jl/blob/21a61d712708033f5857f39bcd99e902d295e956/src/diff.jl#L988">source</a></section></article><h2 id="Adding-Analytical-Derivatives"><a class="docs-heading-anchor" href="#Adding-Analytical-Derivatives">Adding Analytical Derivatives</a><a id="Adding-Analytical-Derivatives-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-Analytical-Derivatives" title="Permalink"></a></h2><p>There are many derivatives pre-defined by <a href="https://github.com/JuliaDiff/DiffRules.jl">DiffRules.jl</a>. For example,</p><pre><code class="language-julia hljs">using Symbolics
@variables x y z
f(x,y,z) = x^2 + sin(x+y) - z</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">f (generic function with 1 method)</code></pre><p><code>f</code> automatically has the derivatives defined via the tracing mechanism. It will do this by directly building the internals of your function and differentiating that.</p><p>However, often you may want to define your own derivatives so that way automatic Jacobian etc. calculations can utilize this information. This can allow for more succinct versions of the derivatives to be calculated to scale to larger systems. You can define derivatives for your function via the dispatch:</p><pre><code class="language-julia hljs"># `N` arguments are accepted by the relevant method of `my_function`
Symbolics.derivative(::typeof(my_function), args::NTuple{N,Any}, ::Val{i})</code></pre><p>where <code>i</code> means that it&#39;s the derivative with respect to the <code>i</code>th argument. <code>args</code> is the array of arguments, so, for example, if your function is <code>f(x,t)</code>, then <code>args = [x,t]</code>. You should return an <code>Term</code> for the derivative of your function.</p><p>For example, <code>sin(t)</code>&#39;s derivative (by <code>t</code>) is given by the following:</p><pre><code class="language-julia hljs">Symbolics.derivative(::typeof(sin), args::NTuple{1,Any}, ::Val{1}) = cos(args[1])</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../groebner/">« Groebner bases</a><a class="docs-footer-nextpage" href="../integration/">Symbolic Integrals »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Wednesday 30 July 2025 03:18">Wednesday 30 July 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
